# Supabase Dashboard é…ç½®æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•åœ¨ Supabase Dashboard ä¸­è·å–é¡¹ç›®é…ç½®ä¿¡æ¯ã€‚

## ğŸ“ è®¿é—® Supabase Dashboard

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttps://supabase.com
2. ç™»å½•ä½ çš„è´¦æˆ·
3. é€‰æ‹©é¡¹ç›®ï¼š`cdkoffice`

## ğŸ”‘ è·å– API é…ç½®ä¿¡æ¯

### æ­¥éª¤ 1: è¿›å…¥ Settings é¡µé¢

åœ¨é¡¹ç›®ä¸»é¡µï¼Œç‚¹å‡»å·¦ä¾§è¾¹æ åº•éƒ¨çš„ **âš™ï¸ Settingsï¼ˆè®¾ç½®ï¼‰**

### æ­¥éª¤ 2: è¿›å…¥ API é…ç½®é¡µé¢

åœ¨ Settings é¡µé¢ï¼Œç‚¹å‡»å·¦ä¾§çš„ **API** é€‰é¡¹

ä½ ä¼šçœ‹åˆ°ä»¥ä¸‹é…ç½®åŒºåŸŸï¼š

---

## ğŸ“‹ é…ç½®ä¿¡æ¯ä½ç½®

### 1. Project URLï¼ˆé¡¹ç›® URLï¼‰

**ä½ç½®**: API Settings é¡µé¢é¡¶éƒ¨çš„ "Configuration" éƒ¨åˆ†

```
Project URL
https://vjpvrzphtnxawkqwuogn.supabase.co
```

**è¯´æ˜**: è¿™æ˜¯ä½ çš„ Supabase é¡¹ç›®çš„å”¯ä¸€ URLï¼Œæ‰€æœ‰ API è¯·æ±‚éƒ½å‘é€åˆ°è¿™ä¸ªåœ°å€ã€‚

---

### 2. API Keysï¼ˆAPI å¯†é’¥ï¼‰

**ä½ç½®**: "Project API keys" éƒ¨åˆ†

#### anon public keyï¼ˆåŒ¿åå…¬é’¥ï¼‰

```
anon public
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

- âœ… **å¯ä»¥åœ¨å‰ç«¯ä½¿ç”¨**
- âœ… **å¯ä»¥å…¬å¼€**
- ç”¨äºå®¢æˆ·ç«¯åº”ç”¨ï¼ˆæµè§ˆå™¨ã€ç§»åŠ¨åº”ç”¨ï¼‰
- å—è¡Œçº§å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰ä¿æŠ¤

#### service_role keyï¼ˆæœåŠ¡è§’è‰²å¯†é’¥ï¼‰

```
service_role
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
[!] This key has the ability to bypass Row Level Security. Never share it publicly.
```

- âš ï¸ **åªèƒ½åœ¨åç«¯ä½¿ç”¨**
- âš ï¸ **ç»ä¸èƒ½å…¬å¼€**
- âš ï¸ **å¯ä»¥ç»•è¿‡ RLS ç­–ç•¥**
- ç‚¹å‡»å³ä¾§çš„ **"Reveal"** æŒ‰é’®æ˜¾ç¤ºå®Œæ•´å¯†é’¥
- ç”¨äºæœåŠ¡ç«¯æ“ä½œï¼ˆç®¡ç†å‘˜æ“ä½œã€æ‰¹é‡æ•°æ®å¤„ç†ï¼‰

---

### 3. JWT Secretï¼ˆJWT å¯†é’¥ï¼‰

**ä½ç½®**: é¡µé¢ä¸‹æ–¹çš„ "JWT Settings" éƒ¨åˆ†

```
JWT Secret
your-super-secret-jwt-token-with-at-least-32-characters-long
```

- ç‚¹å‡»å³ä¾§çš„ **"Reveal"** æŒ‰é’®æ˜¾ç¤º
- ç”¨äºåç«¯éªŒè¯ Supabase ç­¾å‘çš„ JWT token
- âš ï¸ **ç»ä¸èƒ½å…¬å¼€**

---

## ğŸ“ å¦‚ä½•å¤åˆ¶é…ç½®ä¿¡æ¯

### æ–¹æ³• 1: æ‰‹åŠ¨å¤åˆ¶

1. æ‰¾åˆ°å¯¹åº”çš„é…ç½®é¡¹
2. ç‚¹å‡»å³ä¾§çš„ **"Copy"** æŒ‰é’®ï¼ˆğŸ“‹ å›¾æ ‡ï¼‰
3. å¯†é’¥é»˜è®¤éšè—ï¼Œéœ€è¦å…ˆç‚¹å‡» **"Reveal"** æ˜¾ç¤ºåå†å¤åˆ¶

### æ–¹æ³• 2: ä½¿ç”¨ä»£ç ç‰‡æ®µ

åœ¨ API Settings é¡µé¢åº•éƒ¨ï¼Œæœ‰å„ç§è¯­è¨€çš„ç¤ºä¾‹ä»£ç ï¼š

- **JavaScript/TypeScript**
- **Dart**
- **Python**
- **Go**

å¯ä»¥ç›´æ¥å¤åˆ¶è¿™äº›ä»£ç ç‰‡æ®µï¼Œé‡Œé¢åŒ…å«äº† URL å’Œå¯†é’¥ã€‚

---

## ğŸ”§ é…ç½®æ–‡ä»¶æ›´æ–°

### å‰ç«¯é…ç½®ï¼ˆfrontend/.env.localï¼‰

```env
# Supabase é…ç½®
NEXT_PUBLIC_SUPABASE_URL=https://vjpvrzphtnxawkqwuogn.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„anon_key

# BFF (Go åç«¯) é…ç½®
NEXT_PUBLIC_BFF_URL=http://localhost:8080/api
```

### åç«¯é…ç½®ï¼ˆbackend/.envï¼‰

```env
# Supabase é…ç½®
SUPABASE_URL=https://vjpvrzphtnxawkqwuogn.supabase.co
SUPABASE_SERVICE_KEY=ä½ çš„service_role_key
SUPABASE_JWT_SECRET=ä½ çš„jwt_secret

# BFF æœåŠ¡å™¨é…ç½®
BFF_PORT=8080
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:10086
```

---

## ğŸ” å¸¸è§é—®é¢˜

### Q1: æ‰¾ä¸åˆ° "Reveal" æŒ‰é’®ï¼Ÿ

**A**: service_role key å’Œ JWT Secret é»˜è®¤æ˜¯éšè—çš„ï¼Œåœ¨å¯†é’¥å³ä¾§æœ‰ä¸€ä¸ªçœ¼ç›å›¾æ ‡ï¼ˆğŸ‘ï¸ï¼‰æˆ–"Reveal"æŒ‰é’®ï¼Œç‚¹å‡»å³å¯æ˜¾ç¤ºã€‚

### Q2: å¤åˆ¶çš„å¯†é’¥å¾ˆé•¿æ˜¯æ­£å¸¸çš„å—ï¼Ÿ

**A**: æ˜¯çš„ï¼JWT token é€šå¸¸æœ‰å‡ ç™¾ä¸ªå­—ç¬¦é•¿ï¼Œè¿™æ˜¯æ­£å¸¸çš„ã€‚å®Œæ•´çš„å¯†é’¥æ ¼å¼ç±»ä¼¼ï¼š

```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZqcHZyenBodG54YXdrcXd1b2duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3ODQyMTAsImV4cCI6MjA3NzM2MDIxMH0.lyrwgC2eisDLmkAqIE6-YfFHgUgt2f4eLUT04U7Sphc
```

### Q3: service_role key å’Œ anon key æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A**: 
- **anon key**: ç”¨äºå‰ç«¯ï¼Œå— RLS ç­–ç•¥é™åˆ¶ï¼Œå®‰å…¨
- **service_role key**: ç”¨äºåç«¯ï¼Œå¯ä»¥ç»•è¿‡ RLSï¼ŒåŠŸèƒ½å¼ºå¤§ä½†éœ€è¦ä¸¥æ ¼ä¿å¯†

### Q4: æˆ‘æŠŠ service_role key æš´éœ²äº†æ€ä¹ˆåŠï¼Ÿ

**A**: ç«‹å³åœ¨ Supabase Dashboard â†’ Settings â†’ API ä¸­ç‚¹å‡» "Reset API keys" é‡ç½®å¯†é’¥ã€‚

---

## ğŸ¯ é…ç½®æ£€æŸ¥æ¸…å•

åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·ç¡®è®¤ä½ å·²ç»ï¼š

- [ ] æ‰¾åˆ°äº† Project URL
- [ ] å¤åˆ¶äº† anon public key
- [ ] ç‚¹å‡» "Reveal" å¹¶å¤åˆ¶äº† service_role key
- [ ] ç‚¹å‡» "Reveal" å¹¶å¤åˆ¶äº† JWT Secret
- [ ] æ›´æ–°äº† `frontend/.env.local`
- [ ] æ›´æ–°äº† `backend/.env`
- [ ] âš ï¸ ç¡®è®¤ service_role key å’Œ JWT Secret æ²¡æœ‰æäº¤åˆ° Git

---

## ğŸ“¸ é¡µé¢å¸ƒå±€å‚è€ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Supabase Dashboard - cdkoffice                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Settings > API                                         â”‚
â”‚                                                          â”‚
â”‚  Configuration                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Project URL                                     â”‚   â”‚
â”‚  â”‚ https://vjpvrzphtnxawkqwuogn.supabase.co [Copy]â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  Project API keys                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ anon public                                     â”‚   â”‚
â”‚  â”‚ eyJhbGc... [Copy]                              â”‚   â”‚
â”‚  â”‚                                                 â”‚   â”‚
â”‚  â”‚ service_role [!] Can bypass RLS                â”‚   â”‚
â”‚  â”‚ *************** [Reveal] [Copy]                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  JWT Settings                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ JWT Secret                                      â”‚   â”‚
â”‚  â”‚ *************** [Reveal] [Copy]                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” å®‰å…¨æç¤º

1. **æ°¸è¿œä¸è¦**å°† service_role key å’Œ JWT Secret æäº¤åˆ° Git
2. **æ°¸è¿œä¸è¦**åœ¨å‰ç«¯ä»£ç ä¸­ä½¿ç”¨ service_role key
3. **æ°¸è¿œä¸è¦**åœ¨å…¬å¼€çš„æ–‡æ¡£æˆ– Issue ä¸­åˆ†äº«è¿™äº›å¯†é’¥
4. ä½¿ç”¨ `.env.local` å’Œ `.env` æ–‡ä»¶ï¼ˆå·²åœ¨ .gitignore ä¸­ï¼‰
5. å¦‚æœå¯†é’¥æ³„éœ²ï¼Œç«‹å³é‡ç½®

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Supabase API æ–‡æ¡£](https://supabase.com/docs/guides/api)
- [Supabase å®‰å…¨æœ€ä½³å®è·µ](https://supabase.com/docs/guides/auth/auth-deep-dive/auth-deep-dive-jwts)
- [é¡¹ç›®è¿ç§»æ£€æŸ¥æ¸…å•](./SUPABASE_MIGRATION_CHECKLIST.md)

---

**ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-10-30